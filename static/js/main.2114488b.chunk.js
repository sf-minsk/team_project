(this.webpackJsonpteam_project=this.webpackJsonpteam_project||[]).push([[0],{204:function(e,t,a){e.exports={container:"Error404_container__2OK93"}},235:function(e,t,a){},236:function(e,t,a){},382:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(17),i=a.n(c),s=(a(235),a(22)),o=a(21),d=(a(236),a(7)),l=a(64),u=a(28),p=a(9),j=a(11),b=a.n(j),x=a(18),h=a(62),f=a.n(h),m=f.a.create({baseURL:"https://neko-back.herokuapp.com/2.0",withCredentials:!0}),O=function(e,t){return m.post("/auth/register",{email:e,password:t})},g=f.a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),v=function(e){return g.post("auth/login",e)},w=function(){return g.post("auth/me")},k=function(){return g.delete("auth/me")},y={},C=function(e){return{type:"profile/SET-PROFILE",payload:e}},P={isLoggedIn:!1},S=function(e){return{type:"login/SET-SIGN-IN",value:e}},N=function(){return function(){var e=Object(x.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(E("loading")),e.prev=1,e.next=4,k();case 4:t(S(!1)),t(E("succeeded")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(E("failed"));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},T={error:null,errorType:null,status:"idle",isInitialized:!1},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:"app/SET-APP-ERROR",error:e,errorType:t}},E=function(e){return{type:"app/SET-APP-STATUS",status:e}},I=function(e){return{type:"app/SET-IS-INITIALIZED",value:e}},R={isRegistered:!1},D=a(448),_=a(443),L=a(1);function W(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e.app.error})),a=Object(p.c)((function(e){return e.app.errorType})),r=function(t,r){"clickaway"!==r&&e(A(null,a))};return Object(L.jsx)(D.a,{open:null!==t,autoHideDuration:4e3,onClose:r,children:Object(L.jsx)(_.a,{onClose:r,severity:a||"error",children:t})})}var F=a(388),M=a(421),B=a(444),q=a(210),z=a(45),G=a.n(z),U=a(419),H=a(420),Q=a(449),V=a(79),K=a.n(V),J=function(){var e=$(),t=Object(p.b)(),a=Object(p.c)((function(e){return e.app.status})),r=Object(p.c)((function(e){return e.register.isRegistered})),n=Object(l.a)({initialValues:{email:"",password:"",confirmPassword:""},validationSchema:u.a({email:u.c().email("Invalid email address").required("Email is required"),password:u.c().min(8,"Must be 8 characters or more").max(20,"Must be 20 characters or less").required("Password is required"),confirmPassword:u.c().oneOf([u.b("password")],"Passwords must match").required("Password is required")}),onSubmit:function(e){var a,r;t((a=e.email,r=e.password,function(){var e=Object(x.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(E("loading")),e.prev=1,e.next=4,O(a,r);case 4:t({type:"register/SET-SIGN-UP"}),t(E("succeeded")),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),t(A(e.t0.response?e.t0.response.data.error:e.t0.message)),t(E("failed"));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())),n.resetForm()}});return r?Object(L.jsx)(o.a,{to:"/login"}):Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)(U.a,{component:"main",maxWidth:"xs",children:[Object(L.jsx)(H.a,{}),Object(L.jsxs)("div",{className:e.paper,children:[Object(L.jsx)(Q.a,{className:e.avatar,children:Object(L.jsx)(K.a,{})}),Object(L.jsx)(q.a,{component:"h1",variant:"h5",children:"Sign Up"}),"loading"===a&&Object(L.jsx)(M.a,{style:{position:"fixed",top:"40%",textAlign:"center"}}),Object(L.jsxs)("form",{onSubmit:n.handleSubmit,className:e.form,noValidate:!0,children:[Object(L.jsx)(B.a,Object(d.a)({style:{height:"65px"},variant:"outlined",required:!0,fullWidth:!0,label:"Enter your email address",margin:"normal",autoFocus:!0,helperText:n.touched.email&&n.errors.email,error:n.touched.email&&!!n.errors.email},n.getFieldProps("email"))),Object(L.jsx)(B.a,Object(d.a)({style:{height:"65px"},variant:"outlined",required:!0,fullWidth:!0,type:"password",label:"Password",margin:"normal",helperText:n.touched.password&&n.errors.password,error:n.touched.password&&!!n.errors.password},n.getFieldProps("password"))),Object(L.jsx)(B.a,Object(d.a)({style:{height:"65px"},variant:"outlined",required:!0,fullWidth:!0,type:"password",label:"Confirm password",margin:"normal",helperText:n.touched.confirmPassword&&n.errors.confirmPassword,error:n.touched.confirmPassword&&!!n.errors.confirmPassword},n.getFieldProps("confirmPassword"))),Object(L.jsx)(F.a,{fullWidth:!0,type:"submit",variant:"contained",color:"primary",className:e.submit,disabled:!n.isValid||"loading"===a,children:"Sign Up"})]})]}),Object(L.jsx)(W,{})]})})},$=G()((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),Z=a(424),Y=a(447),X=a(426),ee=a(425),te=function(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e.app.status})),a=Object(p.c)((function(e){return e.app.status})),r=Object(l.a)({initialValues:{email:"",password:"",rememberMe:!1},validationSchema:u.a({email:u.c().email("Invalid email address").required("Email is required"),password:u.c().required("Password is required")}),onSubmit:function(t){var a;e((a=t,function(){var e=Object(x.a)(b.a.mark((function e(t){var r,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(E("loading")),e.prev=1,e.next=4,v(a);case 4:r=e.sent,t(C(r.data)),t(S(!0)),t(E("succeeded")),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),n=e.t0.response?e.t0.response.data.error:e.t0.message+", more details in the console",t(A(n)),t(E("failed"));case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}())),r.resetForm()}}),n=G()((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))();return"loading"===a?Object(L.jsx)("div",{style:{position:"fixed",top:"30%",textAlign:"center",width:"100%"},children:Object(L.jsx)(M.a,{})}):Object(L.jsxs)(U.a,{component:"main",maxWidth:"xs",children:[Object(L.jsx)(H.a,{}),Object(L.jsxs)("div",{className:n.paper,children:[Object(L.jsx)(Q.a,{className:n.avatar,children:Object(L.jsx)(K.a,{})}),Object(L.jsx)(q.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(L.jsxs)("form",{onSubmit:r.handleSubmit,className:n.form,noValidate:!0,children:[Object(L.jsx)(B.a,Object(d.a)({style:{height:"65px"},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Email Address",type:"email",helperText:r.touched.email&&r.errors.email,error:r.touched.email&&!!r.errors.email},r.getFieldProps("email"))),Object(L.jsx)(B.a,Object(d.a)({style:{height:"65px"},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Password",type:"password",helperText:r.touched.password&&r.errors.password,error:r.touched.password&&!!r.errors.password},r.getFieldProps("password"))),Object(L.jsx)(Z.a,Object(d.a)({control:Object(L.jsx)(Y.a,{value:"remember",color:"primary"}),label:"Remember me"},r.getFieldProps("rememberMe"))),Object(L.jsx)(F.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.submit,disabled:!r.isValid||"loading"===t,children:"Sign In"}),Object(L.jsxs)(ee.a,{container:!0,children:[Object(L.jsx)(ee.a,{item:!0,xs:!0,children:Object(L.jsx)(X.a,{component:s.b,to:"/changepassword",children:"Forgot password?"})}),Object(L.jsx)(ee.a,{item:!0,children:Object(L.jsx)(X.a,{component:s.b,to:"/registration",children:"Don't have an account? Sign Up"})})]})]})]}),Object(L.jsx)(W,{})]})},ae=f.a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),re=function(e){return ae.post("auth/forgot",e)},ne=function(e){return ae.post("auth/set-new-password",e)},ce=function(e){return{email:e,from:"Cards project <sf-minsk@outlook.com>",message:"<div style=\"background-color: #9bf8d2; padding: 15px\">\n                    password recovery link:\n\x3c!--                        <a href='http://localhost:3000/#/changepassword/newpassword/$token$'>click</a>--\x3e\n                        <a href='https://sf-minsk.github.io/team_project/#/changepassword/newpassword/$token$'>click</a>\n                </div>"}},ie={changeProcess:!1},se=a(43),oe=a.n(se),de=a(118),le=a.n(de),ue=function(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e.app.status})),a=Object(p.c)((function(e){return e.changePassword.changeProcess})),r=Object(l.a)({initialValues:{email:""},validationSchema:u.a({email:u.c().email("Invalid email address").required("Required field")}),onSubmit:function(t){var a;e((a=t.email,function(){var e=Object(x.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(E("loading")),e.prev=1,e.next=4,re(ce(a));case 4:t({type:"changePassword/CHANGE-PASSWORD"}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),t(A(e.t0.response?e.t0.response.data.error:e.t0.message)),t(E("failed"));case 11:return e.prev=11,t(E("idle")),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,7,11,14]])})));return function(t){return e.apply(this,arguments)}}()))}}),n=G()((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))();return a?Object(L.jsxs)(oe.a,{component:"div",maxWidth:"xs",children:[Object(L.jsx)(H.a,{}),Object(L.jsxs)("div",{className:n.paper,children:[Object(L.jsx)(Q.a,{className:n.avatar,children:Object(L.jsx)(le.a,{})}),Object(L.jsx)(q.a,{component:"h1",variant:"h5",children:"CHECK YOUR EMAIL"})]})]}):Object(L.jsxs)(oe.a,{component:"div",maxWidth:"xs",children:[Object(L.jsx)(W,{}),"loading"===t&&Object(L.jsx)("div",{style:{position:"fixed",top:"50%",left:"50%"},children:Object(L.jsx)(M.a,{})}),Object(L.jsx)(H.a,{}),Object(L.jsxs)("div",{className:n.paper,children:[Object(L.jsx)(Q.a,{className:n.avatar,children:Object(L.jsx)(K.a,{})}),Object(L.jsx)(q.a,{component:"h1",variant:"h5",children:"Password recovery"}),Object(L.jsxs)("form",{onSubmit:r.handleSubmit,className:n.form,noValidate:!0,children:[Object(L.jsx)(B.a,Object(d.a)({style:{height:"65px"},id:"email",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Enter your email address",type:"email",autoFocus:!0,helperText:r.touched.email&&r.errors.email,error:r.touched.email&&!!r.errors.email},r.getFieldProps("email"))),Object(L.jsx)(F.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.submit,disabled:!r.isValid||"loading"===t,children:"Recovery"})]})]})]})},pe=function(){var e=Object(p.c)((function(e){return e.profile.email}));return Object(L.jsxs)("div",{children:[Object(L.jsx)(W,{}),"Profile",Object(L.jsxs)("div",{children:["Your e-mail: ",e]})]})},je={newPasswordSet:!1},be=function(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e.app.status})),a=Object(p.c)((function(e){return e.setNewPassword.newPasswordSet})),r=Object(o.i)(),n=Object(l.a)({initialValues:{password:"",confirmPassword:""},validationSchema:u.a({password:u.c().min(8,"Must be 8 characters or more").max(20,"Must be 20 characters or less").required("Password is required"),confirmPassword:u.c().oneOf([u.b("password")],"Passwords must match").required("Password is required")}),onSubmit:function(t){e(function(e,t){return function(){var a=Object(x.a)(b.a.mark((function a(r){var n;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r(E("loading")),a.prev=1,a.next=4,ne({password:e,resetPasswordToken:t});case 4:n=a.sent,r({type:"setNewPassword/SET-NEW-PASSWORD"}),r(A(n.data.info,"success")),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(1),r(A(a.t0.response?a.t0.response.data.error:a.t0.message)),r(E("failed"));case 13:return a.prev=13,r(E("idle")),a.finish(13);case 16:case"end":return a.stop()}}),a,null,[[1,9,13,16]])})));return function(e){return a.apply(this,arguments)}}()}(t.password,r.token))}}),c=G()((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))();return a?Object(L.jsx)(o.a,{to:"/login"}):Object(L.jsxs)(oe.a,{component:"div",maxWidth:"xs",children:[Object(L.jsx)(W,{}),"loading"===t&&Object(L.jsx)("div",{style:{position:"fixed",top:"50%",left:"50%"},children:Object(L.jsx)(M.a,{})}),Object(L.jsx)(H.a,{}),Object(L.jsxs)("div",{className:c.paper,children:[Object(L.jsx)(Q.a,{className:c.avatar,children:Object(L.jsx)(le.a,{})}),Object(L.jsx)(q.a,{component:"h1",variant:"h5",children:"Enter new password"}),Object(L.jsxs)("form",{onSubmit:n.handleSubmit,children:[Object(L.jsx)(B.a,Object(d.a)({style:{height:"65px"},id:"password",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Password",type:"password",autoFocus:!0,helperText:n.touched.password&&n.errors.password,error:n.touched.password&&!!n.errors.password},n.getFieldProps("password"))),Object(L.jsx)(B.a,Object(d.a)({style:{height:"65px"},id:"confirmPassword",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Confirm password",type:"password",helperText:n.touched.confirmPassword&&n.errors.confirmPassword,error:n.touched.confirmPassword&&!!n.errors.confirmPassword},n.getFieldProps("confirmPassword"))),Object(L.jsx)(F.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:c.submit,disabled:!n.isValid||"loading"===t,children:"SET NEW PASSWORD"})]})]})]})},xe=function(e){var t=e.render,a=e.isLoggedIn,r=e.path,n=e.redirectTo;return Object(L.jsx)(o.b,{exact:!0,path:r,render:function(){return a?Object(L.jsx)(t,{}):Object(L.jsx)(o.a,{to:n})}})},he=a.p+"static/media/Error404.d9af2882.png",fe=a(204),me=a.n(fe),Oe=function(){console.log("Error404");var e=Object(o.g)(),t=Object(r.useCallback)((function(){e.goBack()}),[e]);return Object(L.jsxs)("div",{className:me.a.container,children:[Object(L.jsx)("img",{src:he,alt:"Error 404: PAGE NOT FOUND"}),Object(L.jsx)(F.a,{variant:"contained",size:"small",color:"secondary",onClick:t,children:"Back"})]})},ge=a(14),ve=a(427),we=a(441),ke=a(428),ye=a(205),Ce=a.n(ye),Pe=a(429),Se=a(430),Ne=G()((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)},app:{position:"static",flexDirection:"row",display:"flex",height:"72px",justifyContent:"space-between",alignItems:"center"},tab:{},typo:{marginLeft:"10px"},logoutButton:{color:"white",borderColor:"white",marginRight:"10px"},container:{padding:"0 12px"},paper:{marginTop:"20px",marginBottom:"60px",display:"flex",flexDirection:"row",minHeight:"600px",minWidth:"1000px"},navBar:{display:"flex",flexDirection:"column",alignItems:"center",maxWidth:"200px",minWidth:"200px",backgroundColor:"lightblue",borderRadius:"4px 0px 0px 4px"},body:{margin:"10px 12px",padding:"0 12px"},table:{minWidth:"700px"},showPacksCards:{fontSize:"20px",fontWeight:"bold",marginTop:"10px",marginBottom:"10px"},MyAllButtons:{marginTop:"20px"},input:{height:"40px",marginRight:"15px"},addNewPackButton:{width:"230px",marginLeft:"20px"},addNewCardButton:{width:"300px"},packListHeading:{fontSize:"30px",fontWeight:"bold",overflowWrap:"break-word"},inputButtonSection:{display:"flex",justifyContent:"space-between"},buttonsOfActionsSection:{display:"flex",width:"224px",justifyContent:"flex-end"},buttonEditCard:{variant:"outlined",color:"primary"},footerPage:{display:"flex",height:"53px",marginLeft:"10px",alignItems:"center"},tableHead:{backgroundColor:"lightblue"},navLink:{textDecoration:"none",color:"black"},learnCardsModalDarkWindow:{position:"fixed",bottom:"0",left:"0",height:"100%",width:"100%",backgroundColor:"rgba(".concat(0,", ",0,", ",0,", ",.6,")"),zIndex:10},learnCardsModalWindowByQuestion:{position:"fixed",left:"calc(50vw - 220px)",top:"calc(50vh - 156px)",width:"440px",height:"250px",border:"1px solid white",borderRadius:"6px 6px 6px 6px",backgroundColor:"white",display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"20px 0 40px",zIndex:11}}})),Te=function(){var e=Ne(),t=Object(p.b)(),a=Object(o.g)(),n=Object(o.h)(),c=Object(p.c)((function(e){return e.login.isLoggedIn})),i=Object(r.useState)(0),s=Object(ge.a)(i,2),d=s[0],l=s[1];Object(r.useEffect)((function(){"/profile"===n.pathname?l(1):l(0)}),[n,d]);return Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)(ve.a,{className:e.app,children:[Object(L.jsx)(Ce.a,{className:e.typo,variant:"h6",children:"CARDS"}),c?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)(we.a,{className:e.tab,value:d,centered:!0,children:[Object(L.jsx)(ke.a,{onClick:function(){l(0),a.push("/")},label:"Packs List",icon:Object(L.jsx)(Pe.a,{})}),Object(L.jsx)(ke.a,{onClick:function(){l(1),a.push("/profile")},label:"Profile",icon:Object(L.jsx)(Se.a,{})})]}),Object(L.jsx)(F.a,{className:e.logoutButton,onClick:function(){t(N())},variant:"outlined",children:"LOGOUT"})]}):null]})})},Ae=a(383),Ee=n.a.memo((function(){var e=Object(p.c)((function(e){return e.app.status}));return Object(L.jsx)(L.Fragment,{children:"loading"===e&&Object(L.jsx)("div",{style:{position:"fixed",bottom:"0",left:"0",height:"100%",width:"100%",zIndex:1},children:Object(L.jsx)("div",{style:{position:"absolute",left:"50%",top:"50%",width:"100%"},children:Object(L.jsx)(M.a,{})})})})})),Ie=n.a.memo((function(e){var t=Ne(),a=function(){var t=Object(x.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.dispatchHandler(a.target.value);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(L.jsx)(B.a,{className:t.input,placeholder:e.placeholderValue?e.placeholderValue:"Search",type:"text",variant:"outlined",fullWidth:!0,size:"small",onChange:a,value:e.value})})),Re=a(437),De=f.a.create({baseURL:"https://neko-back.herokuapp.com/2.0",withCredentials:!0}),_e=function(e){var t="?";e&&Object.entries(e).forEach((function(e){t+=e[0]+"="+e[1]+"&"}));var a=t.slice(0,-1);return De.get("cards/pack".concat(a))},Le=function(e){return De.post("cards/pack",e)},We=function(e){return De.delete("cards/pack?id=".concat(e))},Fe=function(e){return De.put("cards/pack",{cardsPack:e})},Me=function(e){var t="?";e&&Object.entries(e).forEach((function(e){t+=e[0]+"="+e[1]+"&"}));var a=t.slice(0,-1);return De.get("/cards/card".concat(a))},Be=function(e){return De.post("cards/card",{card:e})},qe=function(e){return De.delete("cards/card?id=".concat(e))},ze=function(e){return De.put("cards/card",{card:e})},Ge=function(e){return De.put("/cards/grade",e)},Ue=function(e,t){var a={packName:e.packName,min:e.min,max:e.max,sortPacks:JSON.stringify(e.sortPacksDirection)+e.sortBy,page:e.page,pageCount:e.pageCount,user_id:e.user_id};return Object(d.a)(Object(d.a)({},a),t)},He=function(e,t){var a={cardAnswer:e.cardAnswer,cardQuestion:e.cardQuestion,cardsPack_id:e.cardsPack_id,min:e.min,max:e.max,sortCards:JSON.stringify(e.sortCardDirection)+e.sortBy,page:e.page,pageCount:e.pageCount};return Object(d.a)(Object(d.a)({},a),t)},Qe={cards:[],cardsTotalCount:1,minGrade:0,maxGrade:5,page:1,pageCount:5,packUserId:"",cardAnswer:"",cardQuestion:"",min:0,max:5,sortCardDirection:0,sortBy:"updated",cardsPack_id:"",currentPackName:"Pack name",searchTextAnswer:"",searchTexQuestion:""},Ve=function(e){return{type:"cards/SET-PACK",data:e}},Ke=function(e){return function(){var t=Object(x.a)(b.a.mark((function t(a,r){var n,c,i,s,o,l;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(E("loading")),n=He(r().pack,e),c=r().pack.pageCount,i=r().pack.page,s=n.pageCount,o=c!==s?Math.floor(c*(i-1)/s)+1:n.page,t.prev=6,t.next=9,Me(Object(d.a)(Object(d.a)({},n),{},{page:o}));case 9:l=t.sent,a(Ve(Object(d.a)(Object(d.a)(Object(d.a)({},l.data),n),{},{page:o}))),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(6),a(A(t.t0.response?t.t0.response.data.error:t.t0.message));case 16:return t.prev=16,a(E("succeeded")),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[6,13,16,19]])})));return function(e,a){return t.apply(this,arguments)}}()},Je=a(207),$e=a.n(Je),Ze=a(434),Ye=a(431),Xe=a(433),et=function(e,t){return e.length>t?e.substring(0,t)+"...":e},tt=function(e){return new Date(e).toLocaleString("es",{year:"numeric",month:"2-digit",day:"numeric"})},at=a(435),rt=a(445),nt=a(206),ct=a.n(nt),it=a(387),st=a(151),ot=a.n(st),dt=a(152),lt=a.n(dt),ut=a(153),pt=a.n(ut),jt=a(154),bt=a.n(jt),xt=n.a.memo((function(e){var t=Ne(),a=ct()(),r=e.count,n=e.rowsPerPage,c=e.page,i=e.onPageChange;return Object(L.jsxs)("div",{className:t.root,children:[Object(L.jsx)(it.a,{onClick:function(e){i(e,0)},disabled:0===c,"aria-label":"first page",children:"rtl"===a.direction?Object(L.jsx)(ot.a,{}):Object(L.jsx)(lt.a,{})}),Object(L.jsx)(it.a,{onClick:function(e){i(e,c-1)},disabled:0===c,"aria-label":"previous page",children:"rtl"===a.direction?Object(L.jsx)(pt.a,{}):Object(L.jsx)(bt.a,{})}),Object(L.jsx)(it.a,{onClick:function(e){i(e,c+1)},disabled:c>=Math.ceil(r/n)-1,"aria-label":"next page",children:"rtl"===a.direction?Object(L.jsx)(bt.a,{}):Object(L.jsx)(pt.a,{})}),Object(L.jsx)(it.a,{onClick:function(e){i(e,Math.max(0,Math.ceil(r/n)-1))},disabled:c>=Math.ceil(r/n)-1,"aria-label":"last page",children:"rtl"===a.direction?Object(L.jsx)(lt.a,{}):Object(L.jsx)(ot.a,{})})]})})),ht=a(436),ft=a(432),mt=function(e){var t=Object(r.useState)(e.card.question),a=Object(ge.a)(t,2),n=a[0],c=a[1],i=Object(r.useState)(e.card.answer),s=Object(ge.a)(i,2),o=s[0],d=s[1];return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("div",{style:{position:"fixed",bottom:"0",left:"0",height:"100%",width:"100%",backgroundColor:"rgba(".concat(0,", ",0,", ",0,", ",.2,")"),zIndex:10},onClick:function(){e.closeAddPackModal()}}),Object(L.jsxs)("div",{style:{position:"fixed",left:"calc(50vw - 250px)",top:"calc(50vh - 171px)",width:"500px",height:"300px",border:"1px solid white",borderRadius:"6px 6px 6px 6px",backgroundColor:"white",display:"flex",flexDirection:"column",alignItems:"center",margin:"20px 0",zIndex:11},children:[Object(L.jsx)("h2",{children:"Edit card"}),Object(L.jsx)(B.a,{label:"Question",style:{width:"450px"},margin:"none",variant:"outlined",value:n,onChange:function(e){c(e.currentTarget.value)}}),Object(L.jsx)(B.a,{label:"Answer",style:{width:"450px",marginTop:"30px"},margin:"none",variant:"outlined",value:o,onChange:function(e){d(e.currentTarget.value)}}),Object(L.jsx)(F.a,{style:{width:"150px",marginTop:"30px"},color:"primary",variant:"contained",onClick:function(){e.editCard({cardsPack_id:e.card.cardsPack_id,_id:e.card._id,answer:o,question:n}),e.closeAddPackModal()},children:"Save changes"})]})]})},Ot=n.a.memo((function(e){var t=Object(r.useState)(!1),a=Object(ge.a)(t,2),n=a[0],c=a[1];return Object(L.jsxs)(Ye.a,{align:"right",style:{width:"166px",padding:"16px 0"},children:[n&&Object(L.jsx)(mt,{closeAddPackModal:function(){c(!1)},editCard:e.editCard,card:e.card}),Object(L.jsx)(F.a,{size:"small",style:{marginRight:"10px"},variant:"outlined",color:"secondary",onClick:function(){return e.deleteCard(e.card._id)},children:"DELETE"}),Object(L.jsx)(F.a,{style:{marginRight:"10px"},size:"small",variant:"outlined",color:"primary",onClick:function(){c(!0)},children:"EDIT"})]})})),gt=a(451),vt=n.a.memo((function(e){var t=Ne(),a=Object(p.b)(),n=Object(p.c)((function(e){return e.pack})),c=Object(p.c)((function(e){return e.profile._id})),i=Object(o.h)().pathname.substring(6),s=function(e){0===n.sortCardDirection?a(Ke({cardsPack_id:i,sortCards:"1"+e})):a(Ke({cardsPack_id:i,sortCards:"0"+e}))};Object(r.useEffect)((function(){return function(){a({type:"cards/RESET-PACK"})}}),[a]);var l=Object(r.useCallback)((function(e,t){a(Ke({cardsPack_id:i,page:t+1}))}),[a,i]),u=function(e){a(function(e,t){return function(){var a=Object(x.a)(b.a.mark((function a(r){return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r(E("loading")),a.prev=1,a.next=4,qe(t);case 4:r(Ke({cardsPack_id:e})),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(1),r(A(a.t0.response?a.t0.response.data.error:a.t0.message));case 10:return a.prev=10,a.finish(10);case 12:case"end":return a.stop()}}),a,null,[[1,7,10,12]])})));return function(e){return a.apply(this,arguments)}}()}(n.cardsPack_id,e))},j=function(e){a(function(e){return function(){var t=Object(x.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(E("loading")),t.prev=1,t.next=4,ze(Object(d.a)({},e));case 4:a(Ke({cardsPack_id:e.cardsPack_id})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),a(A(t.t0.response?t.t0.response.data.error:t.t0.message));case 10:return t.prev=10,t.finish(10);case 12:case"end":return t.stop()}}),t,null,[[1,7,10,12]])})));return function(e){return t.apply(this,arguments)}}()}(Object(d.a)({},e)))};return Object(L.jsxs)(ft.a,{className:t.table,"aria-label":"custom pagination table",children:[Object(L.jsx)(Xe.a,{className:t.tableHead,children:Object(L.jsxs)(Ze.a,{children:[Object(L.jsx)(Ye.a,{children:Object(L.jsx)(gt.a,{active:"question"===n.sortBy,direction:1===n.sortCardDirection?"desc":"asc",onClick:function(){return s("question")},children:"Question"})}),Object(L.jsx)(Ye.a,{align:"right",children:Object(L.jsx)(gt.a,{active:"answer"===n.sortBy,direction:1===n.sortCardDirection?"desc":"asc",onClick:function(){return s("answer")},children:"Answer"})}),Object(L.jsx)(Ye.a,{align:"right",children:Object(L.jsx)(gt.a,{active:"updated"===n.sortBy,direction:1===n.sortCardDirection?"desc":"asc",onClick:function(){return s("updated")},children:"Last Updated"})}),Object(L.jsx)(Ye.a,{align:"right",children:Object(L.jsx)(gt.a,{active:"grade"===n.sortBy,direction:1===n.sortCardDirection?"desc":"asc",onClick:function(){return s("grade")},children:"Grade"})}),Object(L.jsx)(Ye.a,{align:"right",children:"Actions"})]})}),Object(L.jsx)(at.a,{children:n.cards.map((function(e){return Object(L.jsxs)(Ze.a,{children:[Object(L.jsx)(Ye.a,{component:"th",children:et(e.question,20)}),Object(L.jsx)(Ye.a,{align:"right",children:et(e.answer,20)}),Object(L.jsx)(Ye.a,{align:"right",children:tt(e.updated)}),Object(L.jsx)(Ye.a,{align:"right",children:Math.round(e.grade)}),e.user_id===c?Object(L.jsx)(Ot,{deleteCard:u,editCard:j,card:e}):Object(L.jsx)(Ye.a,{})]},e._id)}))}),Object(L.jsx)(ht.a,{children:Object(L.jsxs)(Ze.a,{children:[Object(L.jsxs)("td",{className:t.footerPage,children:["Page: ",n.page," (Total:",Math.ceil(n.cardsTotalCount/n.pageCount),")"]}),Object(L.jsx)(rt.a,{rowsPerPageOptions:[5,10,25,{label:"All",value:n.cardsTotalCount}],colSpan:6,count:n.cardsTotalCount,rowsPerPage:n.pageCount,page:n.page-1,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},labelRowsPerPage:e.labelRowsPerPage,onPageChange:l,onRowsPerPageChange:function(e){a(Ke({cardsPack_id:i,pageCount:parseInt(e.target.value,10)}))},ActionsComponent:xt})]})})]})})),wt=function(){try{var e=localStorage.getItem("team_project");if(null===e)return;return JSON.parse(e)}catch(t){return}},kt=function(e){var t=wt();try{var a=JSON.stringify(Object(d.a)(Object(d.a)({},t),e));localStorage.setItem("team_project",a)}catch(r){}},yt=function(e){var t=Object(r.useState)(""),a=Object(ge.a)(t,2),n=a[0],c=a[1],i=Object(r.useState)(""),s=Object(ge.a)(i,2),o=s[0],d=s[1];return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("div",{style:{position:"fixed",bottom:"0",left:"0",height:"100%",width:"100%",backgroundColor:"rgba(".concat(0,", ",0,", ",0,", ",.2,")"),zIndex:10},onClick:function(){e.closeAddPackModal()}}),Object(L.jsxs)("div",{style:{position:"fixed",left:"calc(50vw - 250px)",top:"calc(50vh - 171px)",width:"500px",height:"300px",border:"1px solid white",borderRadius:"6px 6px 6px 6px",backgroundColor:"white",display:"flex",flexDirection:"column",alignItems:"center",margin:"20px 0",zIndex:11},children:[Object(L.jsx)("h2",{children:"Create new card"}),Object(L.jsx)(B.a,{style:{width:"450px"},label:"Question",margin:"none",variant:"outlined",autoFocus:!0,value:n,onChange:function(e){c(e.currentTarget.value)}}),Object(L.jsx)(B.a,{style:{width:"450px",marginTop:"30px"},label:"Answer",margin:"normal",variant:"outlined",value:o,onChange:function(e){d(e.currentTarget.value)}}),Object(L.jsx)(F.a,{style:{width:"150px",marginTop:"20px"},color:"primary",variant:"contained",onClick:function(){e.addNewCard(n,o),e.closeAddPackModal()},children:"Add new card"})]})]})},Ct=n.a.memo((function(){var e=Ne(),t=Object(p.b)(),a=Object(o.g)(),n=Object(p.c)((function(e){return e.pack})),c=Object(p.c)((function(e){return e.packs})),i=Object(o.h)().pathname.substring(6),s=n.cardsPack_id,l=Object(p.c)((function(e){return e.profile._id})),u=Object(r.useState)(""),j=Object(ge.a)(u,2),h=j[0],f=j[1],m=Object(r.useState)(""),O=Object(ge.a)(m,2),g=O[0],v=O[1],w=Object(r.useState)(),k=Object(ge.a)(w,2),y=k[0],C=k[1],P=n.currentPackName;c.cardPacks.length&&(P=c.cardPacks.filter((function(e){return e._id===i}))[0].name),Object(r.useEffect)((function(){return t(Ke({cardsPack_id:i,page:1,pageCount:5,cardQuestion:"",cardAnswer:""})),function(){f(""),v("")}}),[t,i]),Object(r.useEffect)((function(){kt({pack:Object(d.a)(Object(d.a)({},n),{},{currentPackName:P,cards:[]})})}),[P,n]);var S=Object(r.useCallback)((function(){a.goBack()}),[a]),N=Object(r.useState)(!1),T=Object(ge.a)(N,2),I=T[0],R=T[1];return Object(L.jsxs)(oe.a,{className:e.container,children:[I&&Object(L.jsx)(yt,{closeAddPackModal:function(){R(!1)},addNewCard:function(e,a){var r;t((r={cardsPack_id:s,question:e,answer:a},function(){var e=Object(x.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(E("loading")),e.prev=1,e.next=4,Be(Object(d.a)({},r));case 4:t(Ke({cardsPack_id:r.cardsPack_id,page:1,sortCards:"0updated"})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t(A(e.t0.response?e.t0.response.data.error:e.t0.message));case 10:return e.prev=10,e.finish(10);case 12:case"end":return e.stop()}}),e,null,[[1,7,10,12]])})));return function(t){return e.apply(this,arguments)}}()))}}),Object(L.jsxs)(Ae.a,{className:e.paper,children:[Object(L.jsx)(Ee,{}),Object(L.jsxs)(oe.a,{className:e.body,children:[Object(L.jsxs)("div",{style:{display:"inline-flex",alignItems:"center",cursor:"pointer"},onClick:S,children:[Object(L.jsx)($e.a,{}),Object(L.jsx)("div",{style:{marginLeft:"10px"},children:Object(L.jsx)("h3",{children:"Back to packs"})})]}),Object(L.jsx)("div",{className:e.packListHeading,children:et(P,50)}),Object(L.jsxs)("div",{className:e.inputButtonSection,children:[Object(L.jsx)(Ie,{placeholderValue:"Search by questions",value:h,dispatchHandler:function(e){y&&clearInterval(y),f(e);var a=setTimeout((function(){t(Ke({cardQuestion:e,cardAnswer:g,page:1}))}),400);C(a)}}),Object(L.jsx)(Ie,{placeholderValue:"Search by answer",value:g,dispatchHandler:function(e){y&&clearInterval(y),v(e);var a=setTimeout((function(){t(Ke({cardQuestion:h,cardAnswer:e,page:1}))}),400);C(a)}}),Object(L.jsx)(F.a,{style:{width:"330px"},className:e.addNewCardButton,variant:"contained",color:"primary",onClick:function(){R(!0)},disabled:n.packUserId!==l,children:"Add new card"})]}),Object(L.jsx)(Re.a,{style:{marginTop:"20px"},component:Ae.a,children:Object(L.jsx)(vt,{labelRowsPerPage:"Cards per page"})})]})]}),Object(L.jsx)(W,{})]})})),Pt={cardPacks:[],myPacks:!1,page:1,pageCount:5,min:0,max:110,minCardsCount:0,maxCardsCount:110,sortPacksDirection:0,sortBy:"updated",user_id:"",packName:"",searchText:"",cardPacksTotalCount:1},St=function(e){return{type:"cards/SET-CARD-PACKS",data:e}},Nt=function(e){return function(){var t=Object(x.a)(b.a.mark((function t(a,r){var n,c,i,s,o,l;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(E("loading")),n=Ue(r().packs,e),c=r().packs.pageCount,i=r().packs.page,s=n.pageCount,o=c!==s?Math.floor(c*(i-1)/s)+1:n.page,t.prev=6,t.next=9,_e(Object(d.a)(Object(d.a)({},n),{},{page:o}));case 9:l=t.sent,a(St(Object(d.a)(Object(d.a)(Object(d.a)({},l.data),n),{},{page:o}))),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(6),a(A(t.t0.response?t.t0.response.data.error:t.t0.message));case 16:return t.prev=16,a(E("succeeded")),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[6,13,16,19]])})));return function(e,a){return t.apply(this,arguments)}}()},Tt=a(438),At=a(452),Et=n.a.memo((function(){var e=Ne(),t=Object(p.b)(),a=Object(p.c)((function(e){return e.packs})),n=Object(p.c)((function(e){return e.profile._id})),c=Object(r.useState)([a.min,a.max]),i=Object(ge.a)(c,2),s=i[0],o=i[1];return Object(L.jsxs)(ee.a,{className:e.navBar,children:[Object(L.jsx)("span",{className:e.showPacksCards,children:"Show packs cards"}),Object(L.jsxs)(Tt.a,{variant:"contained",color:"primary",className:e.MyAllButtons,children:[Object(L.jsx)(F.a,{onClick:function(){t(Nt({user_id:n,min:0,page:1,pageCount:5})),o([0,a.max])},variant:a.myPacks?"contained":"outlined",children:"My"}),Object(L.jsx)(F.a,{onClick:function(){t(Nt({user_id:"",min:s[0],max:s[1],page:1,pageCount:5}))},variant:a.myPacks?"outlined":"contained",children:"All"})]}),Object(L.jsx)(At.a,{style:{marginTop:"50px",width:"150px"},value:s,max:a.maxCardsCount,onChange:function(e,t){o(t)},onChangeCommitted:function(){t(Nt({min:s[0],max:s[1],page:1}))},valueLabelDisplay:"auto","aria-labelledby":"range-slider"})]})})),It=a(442),Rt=a(439),Dt=function(e){var t=e.question,a=e.answer,n=e.packName,c=e.openNextRandomCard,i=e.closeAllModal,s=Ne(),o=Object(r.useState)(0),d=Object(ge.a)(o,2),l=d[0],u=d[1];return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("div",{className:s.learnCardsModalDarkWindow,onClick:function(){i()}}),Object(L.jsxs)("div",{style:{position:"fixed",left:"calc(50vw - 220px)",top:"calc(50vh - 306px)",width:"440px",height:"550px",border:"1px solid white",borderRadius:"6px 6px 6px 6px",backgroundColor:"white",display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"20px 0 40px",zIndex:11},children:[Object(L.jsxs)("h2",{style:{maxWidth:"440px",overflowWrap:"break-word",margin:"10px 30px",textAlign:"center"},children:[Object(L.jsx)("b",{children:"Learn "}),'"',et(n,40),'"']}),Object(L.jsxs)("div",{style:{maxWidth:"440px",overflowWrap:"break-word",margin:"5px 30px",fontSize:"18px"},children:[Object(L.jsx)("b",{children:"Question: "}),et(t,70)]}),Object(L.jsxs)("div",{style:{maxWidth:"440px",overflowWrap:"break-word",margin:"5px 30px",fontSize:"18px"},children:[Object(L.jsx)("b",{children:"Answer: "}),et(a,90)]}),Object(L.jsx)("div",{style:{maxWidth:"440px",overflowWrap:"break-word",margin:"5px 30px",fontSize:"18px"},children:Object(L.jsx)("b",{children:"Rate yourself:"})}),Object(L.jsx)(Ee,{}),Object(L.jsx)(Rt.a,{"aria-label":"position",style:{margin:"5px 30px",display:"inline-flex"},children:[{valueOfGrade:1,title:"Did not know"},{valueOfGrade:2,title:"Forgot"},{valueOfGrade:3,title:"A lot of thought"},{valueOfGrade:4,title:"Confused"},{valueOfGrade:5,title:"Knew the answer"}].map((function(e,t){return Object(L.jsx)(Z.a,{name:"myRadio",control:Object(L.jsx)(It.a,{name:"myRadio",color:"primary",checked:e.valueOfGrade===l,onClick:function(){return t=e.valueOfGrade,void(l===t?u(0):l!==t&&u(t));var t}}),label:e.title,labelPlacement:"end"},t)}))}),Object(L.jsx)(F.a,{color:"primary",variant:"contained",onClick:function(){c(0===l?1:l),u(0)},style:{margin:"30px auto 0",width:"100px"},children:"Next"})]})]})},_t=a(33),Lt=[],Wt=function(e){return{type:"cardsForLearn/SET-CARDS-OF-PACK",data:e}},Ft=function(e){return function(){var t=Object(x.a)(b.a.mark((function t(a,r){var n,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(E("loading")),n={cardsPack_id:e.cardsPack_id,pageCount:e.pageCount},t.prev=2,t.next=5,Me(n);case 5:c=t.sent,a(Wt(c.data.cards)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),a(A(t.t0.response?t.t0.response.data.error:t.t0.message));case 12:return t.prev=12,a(E("succeeded")),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[2,9,12,15]])})));return function(e,a){return t.apply(this,arguments)}}()},Mt=function(e){var t=Object(r.useState)(""),a=Object(ge.a)(t,2),n=a[0],c=a[1];return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("div",{style:{position:"fixed",bottom:"0",left:"0",height:"100%",width:"100%",backgroundColor:"rgba(".concat(0,", ",0,", ",0,", ",.2,")"),zIndex:10},onClick:function(){e.closeEditPackModal()}}),Object(L.jsxs)("div",{style:{position:"fixed",left:"calc(50vw - 200px)",top:"calc(50vh - 171px)",width:"400px",height:"300px",border:"1px solid white",borderRadius:"6px 6px 6px 6px",backgroundColor:"white",display:"flex",flexDirection:"column",alignItems:"center",padding:"20px 0",zIndex:11},children:[Object(L.jsx)("h2",{children:"Enter new name of pack"}),Object(L.jsx)(B.a,{style:{margin:"30px 0 50px 0"},variant:"outlined",margin:"none",label:"New name",placeholder:"Old: ".concat(e.oldName),autoFocus:!0,value:n,onChange:function(e){c(e.currentTarget.value)}}),Object(L.jsx)(F.a,{color:"primary",variant:"contained",onClick:function(){e.updatePackName(n),e.closeEditPackModal()},children:"RENAME"})]})]})},Bt=function(e){var t=e.packName,a=e.question,r=e.onAnswerButtonClick,n=e.closeAllModal,c=Ne();return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("div",{className:c.learnCardsModalDarkWindow,onClick:function(){n()}}),Object(L.jsxs)("div",{className:c.learnCardsModalWindowByQuestion,children:[Object(L.jsxs)("h2",{style:{maxWidth:"440px",overflowWrap:"break-word",margin:"10px 30px",textAlign:"center"},children:[Object(L.jsx)("b",{children:"Learn "}),'"',et(t,40),'"']}),Object(L.jsxs)("div",{style:{maxWidth:"440px",overflowWrap:"break-word",margin:"5px 30px",fontSize:"18px"},children:[Object(L.jsx)("b",{children:"Question: "}),et(a,70)]}),Object(L.jsx)(F.a,{color:"primary",variant:"contained",onClick:r,style:{margin:"30px auto 0",width:"160px"},children:"Show answer"})]})]})},qt=n.a.memo((function(e){var t=Ne(),a=Object(p.b)(),n=Object(p.c)((function(e){return e.packs})),c=Object(p.c)((function(e){return e.profile._id})),i=Object(p.c)((function(e){return e.cardsForLearn})),o=Object(r.useState)(!1),d=Object(ge.a)(o,2),l=d[0],u=d[1],j=Object(r.useState)({id:"",name:""}),h=Object(ge.a)(j,2),f=h[0],m=h[1],O=Object(r.useState)(!1),g=Object(ge.a)(O,2),v=g[0],w=g[1],k=Object(r.useState)(!1),y=Object(ge.a)(k,2),C=y[0],P=y[1],S=Object(r.useState)({}),N=Object(ge.a)(S,2),T=N[0],I=N[1],R=Object(r.useState)(""),D=Object(ge.a)(R,2),_=D[0],W=D[1],M=Object(r.useState)(0),B=Object(ge.a)(M,2),q=B[0],z=B[1];Object(r.useEffect)((function(){i.length&&(I(Q(i)),P(!1),w(!0))}),[i]);var G=function(e){0===n.sortPacksDirection?a(Nt({sortPacks:"1"+e})):a(Nt({sortPacks:"0"+e}))},U=function(e){a(function(e){return function(){var t=Object(x.a)(b.a.mark((function t(a,r){var n,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(E("loading")),t.prev=1,t.next=4,We(e);case 4:n=r().packs,c=n.cardPacksTotalCount-n.pageCount*(n.page-1),a(Nt({page:1===c?1===n.page?n.page:n.page-1:n.page})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a(A(t.t0.response?t.t0.response.data.error:t.t0.message));case 12:return t.prev=12,t.finish(12);case 14:case"end":return t.stop()}}),t,null,[[1,9,12,14]])})));return function(e,a){return t.apply(this,arguments)}}()}(e))},H=Object(r.useCallback)((function(e,t){a(Nt({page:t+1}))}),[a]),Q=function(e){var t=e.map((function(e){return Math.pow(6-e.grade,2)})).reduce((function(e,t){return e+t}),0),a=Math.random()*t,r=0,n=0;do{r+=Math.pow(6-e[n].grade,2),n++}while(r<a);return e[n-1]},V=function(){var e=Object(x.a)(b.a.mark((function e(t,r,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(Ft({cardsPack_id:t,pageCount:r}));case 2:W(n),z(r);case 4:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),K=function(){a({type:"cardsForLearn/RESET-CARDS-OF-PACK"}),w(!1),P(!1)};return Object(L.jsxs)(L.Fragment,{children:[v&&Object(L.jsx)(Bt,{packName:_,question:T.question,onAnswerButtonClick:function(){w(!1),P(!0)},closeAllModal:K}),C&&Object(L.jsx)(Dt,{packName:_,question:T.question,answer:T.answer,openNextRandomCard:function(e){var t,r;a((t={grade:0===e?1:e,card_id:T._id},r=q,function(){var e=Object(x.a)(b.a.mark((function e(a,n){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(E("loading")),e.prev=1,e.next=4,Ge(t);case 4:c=e.sent,a(Ft({cardsPack_id:c.data.updatedGrade.cardsPack_id,pageCount:r})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a(A(e.t0.response?e.t0.response.data.error:e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()))},closeAllModal:K}),l&&Object(L.jsx)(Mt,{oldName:f.name,closeEditPackModal:function(){u(!1)},updatePackName:function(e){a(function(e,t){return function(){var a=Object(x.a)(b.a.mark((function a(r){return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r(E("loading")),a.prev=1,a.next=4,Fe({_id:e,name:t});case 4:r(Nt({page:1})),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(1),r(A(a.t0.response?a.t0.response.data.error:a.t0.message));case 10:return a.prev=10,a.finish(10);case 12:case"end":return a.stop()}}),a,null,[[1,7,10,12]])})));return function(e){return a.apply(this,arguments)}}()}(f.id,e))}}),Object(L.jsxs)(ft.a,{className:t.table,"aria-label":"custom pagination table",children:[Object(L.jsx)(Xe.a,{className:t.tableHead,children:Object(L.jsxs)(Ze.a,{children:[Object(L.jsx)(Ye.a,{children:Object(L.jsx)(gt.a,{active:"name"===n.sortBy,direction:1===n.sortPacksDirection?"desc":"asc",onClick:function(){return G("name")},children:"Name"})}),Object(L.jsx)(Ye.a,{align:"right",children:Object(L.jsx)(gt.a,{active:"cardsCount"===n.sortBy,direction:1===n.sortPacksDirection?"desc":"asc",onClick:function(){return G("cardsCount")},children:"Cards"})}),Object(L.jsx)(Ye.a,{align:"right",children:Object(L.jsx)(gt.a,{active:"updated"===n.sortBy,direction:1===n.sortPacksDirection?"desc":"asc",onClick:function(){return G("updated")},children:"Last Updated"})}),Object(L.jsx)(Ye.a,{align:"right",children:Object(L.jsx)(gt.a,{active:"created"===n.sortBy,direction:1===n.sortPacksDirection?"desc":"asc",onClick:function(){return G("created")},children:"Created By"})}),Object(L.jsx)(Ye.a,{align:"right",children:"Actions"})]})}),Object(L.jsx)(at.a,{children:n.cardPacks.map((function(e){return Object(L.jsxs)(Ze.a,{children:[Object(L.jsx)(Ye.a,{component:"th",children:Object(L.jsx)(s.c,{to:"/pack/".concat(e._id),className:t.navLink,children:et(e.name,10)})}),Object(L.jsx)(Ye.a,{align:"right",children:e.cardsCount}),Object(L.jsx)(Ye.a,{align:"right",children:tt(e.updated)}),Object(L.jsx)(Ye.a,{align:"right",children:et(e.user_name,10)}),Object(L.jsx)(Ye.a,{align:"right",style:{width:"224px"},children:Object(L.jsxs)("span",{className:t.buttonsOfActionsSection,children:[e.user_id===c&&Object(L.jsxs)("span",{children:[Object(L.jsx)(F.a,{onClick:function(){return U(e._id)},size:"small",color:"secondary",variant:"outlined",children:"Delete"}),Object(L.jsx)(F.a,{size:"small",variant:"outlined",style:{margin:"0 10px"},onClick:function(){return function(e,t){m({id:e,name:t}),u(!0)}(e._id,e.name)},children:"Edit"})]}),Object(L.jsx)(F.a,{size:"small",variant:"outlined",onClick:function(){return V(e._id,e.cardsCount,e.name)},disabled:0===e.cardsCount,children:"Learn"})]})})]},e._id)}))}),Object(L.jsx)(ht.a,{children:Object(L.jsxs)(Ze.a,{children:[Object(L.jsxs)("td",{className:t.footerPage,children:["Page: ",n.page," (Total:",Math.ceil(n.cardPacksTotalCount/n.pageCount),")"]}),Object(L.jsx)(rt.a,{rowsPerPageOptions:[5,10,25,{label:"All",value:n.cardPacksTotalCount}],colSpan:6,count:n.cardPacksTotalCount,rowsPerPage:n.pageCount,page:n.page-1,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},labelRowsPerPage:e.labelRowsPerPage,onPageChange:H,onRowsPerPageChange:function(e){a(Nt({pageCount:parseInt(e.target.value)}))},ActionsComponent:xt})]})})]})]})})),zt=function(e){var t=Object(r.useState)(""),a=Object(ge.a)(t,2),n=a[0],c=a[1];return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("div",{style:{position:"fixed",bottom:"0",left:"0",height:"100%",width:"100%",backgroundColor:"rgba(".concat(0,", ",0,", ",0,", ",.2,")"),zIndex:10},onClick:function(){e.closeAddPackModal()}}),Object(L.jsxs)("div",{style:{position:"fixed",left:"calc(50vw - 200px)",top:"calc(50vh - 161px)",width:"400px",height:"280px",border:"1px solid white",borderRadius:"6px 6px 6px 6px",backgroundColor:"white",display:"flex",flexDirection:"column",alignItems:"center",margin:"20px 0",zIndex:11},children:[Object(L.jsx)("h2",{children:"Enter new pack name"}),Object(L.jsx)(B.a,{style:{margin:"30px 0 50px 0"},variant:"outlined",margin:"none",label:"Name",autoFocus:!0,value:n,onChange:function(e){c(e.currentTarget.value)}}),Object(L.jsx)(F.a,{color:"primary",variant:"contained",onClick:function(){e.addNewPack(n),e.closeAddPackModal()},children:"Add new pack"})]})]})},Gt=n.a.memo((function(){var e=Ne(),t=Object(p.b)(),a=Object(p.c)((function(e){return e.packs}));Object(r.useEffect)((function(){t(Nt())}),[t]),Object(r.useEffect)((function(){kt({packs:{cardPacks:[],myPacks:a.myPacks,page:a.page,pageCount:a.pageCount,min:a.min,max:a.max,minCardsCount:a.minCardsCount,maxCardsCount:a.maxCardsCount,sortPacksDirection:a.sortPacksDirection,sortBy:a.sortBy,user_id:a.user_id,packName:a.packName,searchText:a.searchText,cardPacksTotalCount:a.cardPacksTotalCount}})}),[a]);var n=Object(r.useState)(a.searchText),c=Object(ge.a)(n,2),i=c[0],s=c[1],o=Object(r.useState)(),d=Object(ge.a)(o,2),l=d[0],u=d[1],j=Object(r.useState)(!1),h=Object(ge.a)(j,2),f=h[0],m=h[1];return Object(L.jsxs)(oe.a,{className:e.container,children:[f&&Object(L.jsx)(zt,{closeAddPackModal:function(){m(!1)},addNewPack:function(e){var a;t((a={cardsPack:{name:e}},function(){var e=Object(x.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(E("loading")),e.prev=1,e.next=4,Le(a);case 4:t(Nt({packName:"",page:1,sortPacks:"0updated"})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t(A(e.t0.response?e.t0.response.data.error:e.t0.message));case 10:return e.prev=10,e.finish(10);case 12:case"end":return e.stop()}}),e,null,[[1,7,10,12]])})));return function(t){return e.apply(this,arguments)}}()))}}),Object(L.jsxs)(Ae.a,{className:e.paper,children:[Object(L.jsx)(Ee,{}),Object(L.jsx)(Et,{}),Object(L.jsxs)(oe.a,{className:e.body,children:[Object(L.jsx)("div",{className:e.packListHeading,children:"Packs list"}),Object(L.jsxs)("div",{className:e.inputButtonSection,children:[Object(L.jsx)(Ie,{placeholderValue:"Search by questions",value:i,dispatchHandler:function(e){l&&clearInterval(l),s(e);var a=setTimeout((function(){t(Nt({packName:e,page:1}))}),400);u(a)}}),Object(L.jsx)(F.a,{className:e.addNewPackButton,variant:"contained",color:"primary",onClick:function(){m(!0)},children:"Add new pack"})]}),Object(L.jsx)(Re.a,{style:{marginTop:"20px"},component:Ae.a,children:Object(L.jsx)(qt,{labelRowsPerPage:"Packs per page"})})]})]}),Object(L.jsx)(W,{})]})}));var Ut=function(){var e=Object(p.c)((function(e){return e.app.isInitialized})),t=Object(p.c)((function(e){return e.login.isLoggedIn})),a=Object(p.c)((function(e){return e.register.isRegistered})),n=Object(p.b)();return Object(r.useEffect)((function(){n(function(){var e=Object(x.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(E("loading")),e.prev=1,e.next=4,w();case 4:(a=e.sent).data&&(t(C(a.data)),t(S(!0)),t(C(a.data))),t(I(!0)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(E("failed"));case 12:return e.prev=12,t(I(!0)),t(E("succeeded")),e.finish(12);case 16:case"end":return e.stop()}}),e,null,[[1,9,12,16]])})));return function(t){return e.apply(this,arguments)}}())}),[n]),e?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)("div",{children:[Object(L.jsx)("button",{children:Object(L.jsx)(s.c,{to:"/",children:"Home"})}),Object(L.jsx)("button",{children:Object(L.jsx)(s.c,{to:"/",children:"Main"})}),Object(L.jsx)("button",{children:Object(L.jsx)(s.c,{to:"/registration",children:"Register"})}),Object(L.jsx)("button",{children:Object(L.jsx)(s.c,{to:"/login",children:"Login"})}),Object(L.jsx)("button",{children:Object(L.jsx)(s.c,{to:"/changepassword",children:"Change Password"})}),Object(L.jsx)("button",{children:Object(L.jsx)(s.c,{to:"/profile",children:"Profile"})}),Object(L.jsx)("span",{style:{color:"".concat(e?"green":"red")},children:" (INITIALIZED) "}),Object(L.jsx)("span",{style:{color:"".concat(t?"green":"red")},children:" (LOGIN) "}),Object(L.jsx)("span",{style:{color:"".concat(a?"green":"red")},children:" (REGISTERED) "}),Object(L.jsx)("button",{onClick:function(){n(N())},children:"LOGOUT"})]}),Object(L.jsx)(Te,{}),Object(L.jsx)("div",{children:Object(L.jsxs)(o.d,{children:[Object(L.jsx)(xe,{exact:!0,path:"/",isLoggedIn:t,render:function(){return Object(L.jsx)(Gt,{})},redirectTo:"/login"}),Object(L.jsx)(xe,{exact:!0,path:"/pack/:id",isLoggedIn:t,render:function(){return Object(L.jsx)(Ct,{})},redirectTo:"/login"}),Object(L.jsx)(xe,{path:"/profile",isLoggedIn:t,render:function(){return Object(L.jsx)(pe,{})},redirectTo:"/login"}),Object(L.jsx)(xe,{path:"/login",isLoggedIn:!t,render:function(){return Object(L.jsx)(te,{})},redirectTo:"/"}),Object(L.jsx)(xe,{path:"/registration",isLoggedIn:!t,render:function(){return Object(L.jsx)(J,{})},redirectTo:"/"}),Object(L.jsx)(o.b,{exact:!0,path:"/changepassword",render:function(){return Object(L.jsx)(ue,{})}}),Object(L.jsx)(o.b,{path:"/changepassword/newpassword/:token?",render:function(){return Object(L.jsx)(be,{})}}),Object(L.jsx)(o.b,{path:"/404",render:function(){return Object(L.jsx)(Oe,{})}}),Object(L.jsx)(o.a,{from:"*",to:"/404"})]})})]}):Object(L.jsx)("div",{style:{position:"fixed",top:"30%",textAlign:"center",width:"100%"},children:Object(L.jsx)(M.a,{})})},Ht=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,453)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),r(e),n(e),c(e),i(e)}))},Qt=a(122),Vt=a(208),Kt=Object(Qt.b)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login/SET-SIGN-IN":return Object(d.a)(Object(d.a)({},e),{},{isLoggedIn:t.value});default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"register/SET-SIGN-UP":return Object(d.a)(Object(d.a)({},e),{},{isRegistered:!0});default:return e}},changePassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"changePassword/CHANGE-PASSWORD":return Object(d.a)(Object(d.a)({},e),{},{changeProcess:!0});default:return e}},setNewPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setNewPassword/SET-NEW-PASSWORD":return Object(d.a)(Object(d.a)({},e),{},{newPasswordSet:!0});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"app/SET-APP-ERROR":return Object(d.a)(Object(d.a)({},e),{},{error:t.error,errorType:t.errorType});case"app/SET-APP-STATUS":return Object(d.a)(Object(d.a)({},e),{},{status:t.status});case"app/SET-IS-INITIALIZED":return Object(d.a)(Object(d.a)({},e),{},{isInitialized:t.value});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"profile/SET-PROFILE":return Object(d.a)(Object(d.a)({},e),t.payload);default:return e}},packs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"cards/SET-CARD-PACKS":return Object(d.a)(Object(d.a)(Object(d.a)({},e),t.data),{},{myPacks:t.data.user_id.length>1,sortBy:t.data.sortPacks.slice(1),sortPacksDirection:Number(t.data.sortPacks.substring(0,1)),searchText:t.data.packName});default:return e}},pack:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"cards/SET-PACK":return Object(d.a)(Object(d.a)(Object(d.a)({},e),t.data),{},{sortBy:t.data.sortCards.slice(1),sortCardDirection:Number(t.data.sortCards.substring(0,1)),searchTextAnswer:t.data.cardAnswer,searchTexQuestion:t.data.cardQuestion});case"cards/RESET-PACK":return Object(d.a)(Object(d.a)({},e),{},{cards:[]});default:return e}},cardsForLearn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"cardsForLearn/SET-CARDS-OF-PACK":return Object(_t.a)(t.data);case"cardsForLearn/RESET-CARDS-OF-PACK":return[];default:return e}}}),Jt=Object(Qt.c)(Kt,wt(),Object(Qt.a)(Vt.a));window.store=Jt,i.a.render(Object(L.jsx)(n.a.StrictMode,{children:Object(L.jsx)(s.a,{children:Object(L.jsx)(p.a,{store:Jt,children:Object(L.jsx)(Ut,{})})})}),document.getElementById("root")),Ht()}},[[382,1,2]]]);
//# sourceMappingURL=main.2114488b.chunk.js.map