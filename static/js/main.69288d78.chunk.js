(this.webpackJsonpteam_project=this.webpackJsonpteam_project||[]).push([[0],{179:function(e,r,t){e.exports={container:"Error404_container__2OK93"}},198:function(e,r,t){},199:function(e,r,t){},347:function(e,r,t){"use strict";t.r(r);var a=t(0),n=t.n(a),s=t(13),i=t.n(s),c=(t(198),t(25)),o=t(15),l=(t(199),t(12)),d=t(23),u=t.n(d),p=t(33),j=t(9),b=t(63),h=t.n(b),m=h.a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),O=function(e){return m.post("auth/login",e)},f=function(){return m.post("auth/me")},x=function(){return m.delete("auth/me")},g={_id:null,email:null,name:null,avatar:null,publicCardPacksCount:null,created:null,updated:null,isAdmin:null,verified:null,rememberMe:null,error:null},v=function(e){return{type:"profile/SET-PROFILE",payload:e}},w={isLoggedIn:!1},y=function(e){return{type:"login/SET-SIGN-IN",value:e}},P={error:null,errorType:null,status:"idle",isInitialized:!1},S=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:"app/SET-APP-ERROR",error:e,errorType:r}},T=function(e){return{type:"app/SET-APP-STATUS",status:e}},I=function(e){return{type:"app/SET-IS-INITIALIZED",value:e}},E=t(390),k=t(387),N=t(2);function R(){var e=Object(l.b)(),r=Object(l.c)((function(e){return e.app.error})),t=Object(l.c)((function(e){return e.app.errorType})),a=function(r,a){"clickaway"!==a&&e(S(null,t))};return Object(N.jsx)(E.a,{open:null!==r,autoHideDuration:4e3,onClose:a,children:Object(N.jsx)(k.a,{onClose:a,severity:t||"error",children:r})})}var C=function(){return Object(N.jsxs)("div",{children:[Object(N.jsx)(R,{}),"Cards"]})},W=t(46),q=t(21),F=h.a.create({baseURL:"https://neko-back.herokuapp.com/2.0",withCredentials:!0}),A=function(e){return F.post("/auth/register",e)},L={isRegistered:!1},D=t(382),U=t(381),V=t(386),G=t(182),M=t(45),_=t.n(M),H=t(379),z=t(380),B=t(391),Z=t(65),J=t.n(Z),K=function(){var e=Y(),r=Object(l.b)(),t=Object(l.c)((function(e){return e.app.status})),a=Object(l.c)((function(e){return e.register.isRegistered})),n=Object(W.a)({initialValues:{email:"",password:"",confirmPassword:""},validationSchema:q.a({email:q.c().email("Invalid email address").required("Email is required"),password:q.c().min(8,"Must be 8 characters or more").max(15,"Must be 15 characters or less").required("Password is required"),confirmPassword:q.c().oneOf([q.b("password")],"Passwords must match").required("Password is required")}),onSubmit:function(e){var t;r((t=e,function(){var e=Object(p.a)(u.a.mark((function e(r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(T("loading")),e.next=4,A(t);case 4:r({type:"register/SET-SIGN-UP",isRegistered:!0}),r(T("succeeded")),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),r(S(e.t0.response?e.t0.response.data.error:e.t0.message)),r(T("failed"));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}())),n.resetForm()}});return a?Object(N.jsx)(o.a,{to:"/login"}):Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(H.a,{component:"main",maxWidth:"xs",children:[Object(N.jsx)(z.a,{}),Object(N.jsxs)("div",{className:e.paper,children:[Object(N.jsx)(B.a,{className:e.avatar,children:Object(N.jsx)(J.a,{})}),Object(N.jsx)(G.a,{component:"h1",variant:"h5",children:"Sign Up"}),"loading"===t&&Object(N.jsx)(U.a,{style:{position:"fixed",top:"40%",textAlign:"center"}}),Object(N.jsxs)("form",{onSubmit:n.handleSubmit,className:e.form,noValidate:!0,children:[Object(N.jsx)(V.a,Object(j.a)({style:{height:"65px"},variant:"outlined",required:!0,fullWidth:!0,label:"Enter your email address",margin:"normal",autoFocus:!0,helperText:n.touched.email&&n.errors.email,error:n.touched.email&&!!n.errors.email},n.getFieldProps("email"))),Object(N.jsx)(V.a,Object(j.a)({style:{height:"65px"},variant:"outlined",required:!0,fullWidth:!0,type:"password",label:"Password",margin:"normal",helperText:n.touched.password&&n.errors.password,error:n.touched.password&&!!n.errors.password},n.getFieldProps("password"))),Object(N.jsx)(V.a,Object(j.a)({style:{height:"65px"},variant:"outlined",required:!0,fullWidth:!0,type:"password",label:"Confirm password",margin:"normal",helperText:n.touched.confirmPassword&&n.errors.confirmPassword,error:n.touched.confirmPassword&&!!n.errors.confirmPassword},n.getFieldProps("confirmPassword"))),Object(N.jsx)(D.a,{fullWidth:!0,type:"submit",variant:"contained",color:"primary",className:e.submit,disabled:!n.isValid||"loading"===t,children:"Sign Up"})]})]}),Object(N.jsx)(R,{})]})})},Y=_()((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),$=t(383),Q=t(388),X=t(385),ee=t(384),re=function(){var e=Object(l.b)(),r=Object(l.c)((function(e){return e.app.status})),t=Object(l.c)((function(e){return e.app.status})),a=Object(W.a)({initialValues:{email:"",password:"",rememberMe:!1},validationSchema:q.a({email:q.c().email("Invalid email address").required("Email is required"),password:q.c().required("Password is required")}),onSubmit:function(r){var t;e((t=r,function(){var e=Object(p.a)(u.a.mark((function e(r){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(T("loading")),e.prev=1,e.next=4,O(t);case 4:a=e.sent,r(v(a.data)),r(y(!0)),r(T("succeeded")),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),n=e.t0.response?e.t0.response.data.error:e.t0.message+", more details in the console",r(S(n)),r(T("failed"));case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(r){return e.apply(this,arguments)}}())),a.resetForm()}}),n=_()((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))();return"loading"===t?Object(N.jsx)("div",{style:{position:"fixed",top:"30%",textAlign:"center",width:"100%"},children:Object(N.jsx)(U.a,{})}):Object(N.jsxs)(H.a,{component:"main",maxWidth:"xs",children:[Object(N.jsx)(z.a,{}),Object(N.jsxs)("div",{className:n.paper,children:[Object(N.jsx)(B.a,{className:n.avatar,children:Object(N.jsx)(J.a,{})}),Object(N.jsx)(G.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(N.jsxs)("form",{onSubmit:a.handleSubmit,className:n.form,noValidate:!0,children:[Object(N.jsx)(V.a,Object(j.a)({style:{height:"65px"},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Email Address",type:"email",helperText:a.touched.email&&a.errors.email,error:a.touched.email&&!!a.errors.email},a.getFieldProps("email"))),Object(N.jsx)(V.a,Object(j.a)({style:{height:"65px"},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Password",type:"password",helperText:a.touched.password&&a.errors.password,error:a.touched.password&&!!a.errors.password},a.getFieldProps("password"))),Object(N.jsx)($.a,Object(j.a)({control:Object(N.jsx)(Q.a,{value:"remember",color:"primary"}),label:"Remember me"},a.getFieldProps("rememberMe"))),Object(N.jsx)(D.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.submit,disabled:!a.isValid||"loading"===r,children:"Sign In"}),Object(N.jsxs)(ee.a,{container:!0,children:[Object(N.jsx)(ee.a,{item:!0,xs:!0,children:Object(N.jsx)(X.a,{component:c.b,to:"/changepassword",children:"Forgot password?"})}),Object(N.jsx)(ee.a,{item:!0,children:Object(N.jsx)(X.a,{component:c.b,to:"/registration",children:"Don't have an account? Sign Up"})})]})]})]}),Object(N.jsx)(R,{})]})},te=h.a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),ae=function(e){return te.post("auth/forgot",e)},ne=function(e){return te.post("auth/set-new-password",e)},se=function(e){return{email:e,from:"Cards project <sf-minsk@outlook.com>",message:"<div style=\"background-color: #9bf8d2; padding: 15px\">\n                    password recovery link:\n                        <a href='http://localhost:3000/#/changepassword/newpassword/$token$'>click</a>\n                </div>"}},ie={changeProcess:!1},ce=t(75),oe=t.n(ce),le=t(98),de=t.n(le),ue=function(){var e=Object(l.b)(),r=Object(l.c)((function(e){return e.app.status})),t=Object(l.c)((function(e){return e.changePassword.changeProcess})),a=Object(W.a)({initialValues:{email:""},validationSchema:q.a({email:q.c().email("Invalid email address").required("Required field")}),onSubmit:function(r){var t;e((t=r.email,function(){var e=Object(p.a)(u.a.mark((function e(r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(T("loading")),e.prev=1,e.next=4,ae(se(t));case 4:r({type:"changePassword/CHANGE-PASSWORD"}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),r(S(e.t0.response?e.t0.response.data.error:e.t0.message)),r(T("failed"));case 11:return e.prev=11,r(T("idle")),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,7,11,14]])})));return function(r){return e.apply(this,arguments)}}()))}}),n=_()((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))();return t?Object(N.jsxs)(oe.a,{component:"div",maxWidth:"xs",children:[Object(N.jsx)(z.a,{}),Object(N.jsxs)("div",{className:n.paper,children:[Object(N.jsx)(B.a,{className:n.avatar,children:Object(N.jsx)(de.a,{})}),Object(N.jsx)(G.a,{component:"h1",variant:"h5",children:"CHECK YOUR EMAIL"})]})]}):Object(N.jsxs)(oe.a,{component:"div",maxWidth:"xs",children:[Object(N.jsx)(R,{}),"loading"===r&&Object(N.jsx)("div",{style:{position:"fixed",top:"50%",left:"50%"},children:Object(N.jsx)(U.a,{})}),Object(N.jsx)(z.a,{}),Object(N.jsxs)("div",{className:n.paper,children:[Object(N.jsx)(B.a,{className:n.avatar,children:Object(N.jsx)(J.a,{})}),Object(N.jsx)(G.a,{component:"h1",variant:"h5",children:"Password recovery"}),Object(N.jsxs)("form",{onSubmit:a.handleSubmit,className:n.form,noValidate:!0,children:[Object(N.jsx)(V.a,Object(j.a)({style:{height:"65px"},id:"email",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Enter your email address",type:"email",autoFocus:!0,helperText:a.touched.email&&a.errors.email,error:a.touched.email&&!!a.errors.email},a.getFieldProps("email"))),Object(N.jsx)(D.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.submit,disabled:!a.isValid||"loading"===r,children:"Recovery"})]})]})]})},pe=function(){var e=Object(l.c)((function(e){return e.profile.email}));return Object(N.jsxs)("div",{children:[Object(N.jsx)(R,{}),"Profile",Object(N.jsx)("div",{children:"Your e-mail: ".concat(e)})]})},je={newPasswordSet:!1},be=function(){var e=Object(l.b)(),r=Object(l.c)((function(e){return e.app.status})),t=Object(l.c)((function(e){return e.setNewPassword.newPasswordSet})),a=Object(o.h)(),n=Object(W.a)({initialValues:{password:"",confirmPassword:""},validationSchema:q.a({password:q.c().min(8,"Must be 8 characters or more").max(15,"Must be 15 characters or less").required("Password is required"),confirmPassword:q.c().oneOf([q.b("password")],"Passwords must match").required("Password is required")}),onSubmit:function(r){e(function(e,r){return function(){var t=Object(p.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(T("loading")),t.prev=1,t.next=4,ne({password:e,resetPasswordToken:r});case 4:n=t.sent,a({type:"setNewPassword/SET-NEW-PASSWORD"}),a(S(n.data.info,"success")),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),a(S(t.t0.response?t.t0.response.data.error:t.t0.message)),a(T("failed"));case 13:return t.prev=13,a(T("idle")),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[1,9,13,16]])})));return function(e){return t.apply(this,arguments)}}()}(r.password,a.token))}}),s=_()((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))();return t?Object(N.jsx)(o.a,{to:"/login"}):Object(N.jsxs)(oe.a,{component:"div",maxWidth:"xs",children:[Object(N.jsx)(R,{}),"loading"===r&&Object(N.jsx)("div",{style:{position:"fixed",top:"50%",left:"50%"},children:Object(N.jsx)(U.a,{})}),Object(N.jsx)(z.a,{}),Object(N.jsxs)("div",{className:s.paper,children:[Object(N.jsx)(B.a,{className:s.avatar,children:Object(N.jsx)(de.a,{})}),Object(N.jsx)(G.a,{component:"h1",variant:"h5",children:"Enter new password"}),Object(N.jsxs)("form",{onSubmit:n.handleSubmit,children:[Object(N.jsx)(V.a,Object(j.a)({style:{height:"65px"},id:"password",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Password",type:"password",autoFocus:!0,helperText:n.touched.password&&n.errors.password,error:n.touched.password&&!!n.errors.password},n.getFieldProps("password"))),Object(N.jsx)(V.a,Object(j.a)({style:{height:"65px"},id:"confirmPassword",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Confirm password",type:"password",helperText:n.touched.confirmPassword&&n.errors.confirmPassword,error:n.touched.confirmPassword&&!!n.errors.confirmPassword},n.getFieldProps("confirmPassword"))),Object(N.jsx)(D.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:s.submit,disabled:!n.isValid||"loading"===r,children:"SET NEW PASSWORD"})]})]})]})},he=function(e){var r=e.render,t=e.isLoggedIn,a=e.path,n=e.redirectTo;e.exact;return Object(N.jsx)(o.b,{exact:!0,path:a,render:function(){return t?Object(N.jsx)(r,{}):Object(N.jsx)(o.a,{to:n})}})},me=t.p+"static/media/Error404.d9af2882.png",Oe=t(179),fe=t.n(Oe),xe=function(){console.log("Error404");var e=Object(o.g)(),r=Object(a.useCallback)((function(){e.goBack()}),[]);return Object(N.jsxs)("div",{className:fe.a.container,children:[Object(N.jsx)("img",{src:me,alt:"Error 404: PAGE NOT FOUND"}),Object(N.jsx)(D.a,{variant:"contained",size:"small",color:"secondary",onClick:r,children:"Back"})]})};var ge=function(){var e=Object(l.c)((function(e){return e.app.isInitialized})),r=Object(l.c)((function(e){return e.login.isLoggedIn})),t=Object(l.c)((function(e){return e.register.isRegistered})),n=Object(l.b)();return Object(a.useEffect)((function(){n(function(){var e=Object(p.a)(u.a.mark((function e(r){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(T("loading")),e.prev=1,e.next=4,f();case 4:(t=e.sent).data&&(r(y(!0)),r(v(t.data))),r(I(!0)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),r(T("failed"));case 12:return e.prev=12,r(I(!0)),r(T("succeeded")),e.finish(12);case 16:case"end":return e.stop()}}),e,null,[[1,9,12,16]])})));return function(r){return e.apply(this,arguments)}}())}),[n]),e?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{children:[Object(N.jsx)("button",{children:Object(N.jsx)(c.c,{to:"/",children:"Home"})}),Object(N.jsx)("button",{children:Object(N.jsx)(c.c,{to:"/registration",children:"Register"})}),Object(N.jsx)("button",{children:Object(N.jsx)(c.c,{to:"/login",children:"Login"})}),Object(N.jsx)("button",{children:Object(N.jsx)(c.c,{to:"/changepassword",children:"Change Password"})}),Object(N.jsx)("button",{children:Object(N.jsx)(c.c,{to:"/profile",children:"Profile"})}),Object(N.jsx)("span",{style:{color:"".concat(e?"green":"red")},children:" (INITIALIZED) "}),Object(N.jsx)("span",{style:{color:"".concat(r?"green":"red")},children:" (LOGIN) "}),Object(N.jsx)("span",{style:{color:"".concat(t?"green":"red")},children:" (REGISTERED) "}),Object(N.jsx)("button",{onClick:function(){n(function(){var e=Object(p.a)(u.a.mark((function e(r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(T("loading")),e.prev=1,e.next=4,x();case 4:r(y(!1)),r(T("succeeded")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r(T("failed"));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(r){return e.apply(this,arguments)}}())},children:"LOGOUT"})]}),Object(N.jsx)("div",{children:Object(N.jsxs)(o.d,{children:[Object(N.jsx)(he,{exact:!0,path:"/",isLoggedIn:r,render:function(){return Object(N.jsx)(C,{})},redirectTo:"/login"}),Object(N.jsx)(he,{path:"/profile",isLoggedIn:r,render:function(){return Object(N.jsx)(pe,{})},redirectTo:"/login"}),Object(N.jsx)(he,{path:"/login",isLoggedIn:!r,render:function(){return Object(N.jsx)(re,{})},redirectTo:"/"}),Object(N.jsx)(he,{path:"/registration",isLoggedIn:!r,render:function(){return Object(N.jsx)(K,{})},redirectTo:"/"}),Object(N.jsx)(o.b,{exact:!0,path:"/changepassword",render:function(){return Object(N.jsx)(ue,{})}}),Object(N.jsx)(o.b,{path:"/changepassword/newpassword/:token?",render:function(){return Object(N.jsx)(be,{})}}),Object(N.jsx)(o.b,{path:"/404",render:function(){return Object(N.jsx)(xe,{})}}),Object(N.jsx)(o.a,{from:"*",to:"/404"})]})})]}):Object(N.jsx)("div",{style:{position:"fixed",top:"30%",textAlign:"center",width:"100%"},children:Object(N.jsx)(U.a,{})})},ve=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,392)).then((function(r){var t=r.getCLS,a=r.getFID,n=r.getFCP,s=r.getLCP,i=r.getTTFB;t(e),a(e),n(e),s(e),i(e)}))},we=t(101),ye=t(180),Pe=Object(we.b)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"login/SET-SIGN-IN":return Object(j.a)(Object(j.a)({},e),{},{isLoggedIn:r.value});default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"register/SET-SIGN-UP":return Object(j.a)(Object(j.a)({},e),{},{isRegistered:r.isRegistered});default:return e}},changePassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"changePassword/CHANGE-PASSWORD":return Object(j.a)(Object(j.a)({},e),{},{changeProcess:!0});default:return e}},setNewPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"setNewPassword/SET-NEW-PASSWORD":return Object(j.a)(Object(j.a)({},e),{},{newPasswordSet:!0});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,r=arguments.length>1?arguments[1]:void 0;switch(console.log(r),r.type){case"app/SET-APP-ERROR":return Object(j.a)(Object(j.a)({},e),{},{error:r.error,errorType:r.errorType});case"app/SET-APP-STATUS":return Object(j.a)(Object(j.a)({},e),{},{status:r.status});case"app/SET-IS-INITIALIZED":return Object(j.a)(Object(j.a)({},e),{},{isInitialized:r.value});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"profile/SET-PROFILE":return Object(j.a)(Object(j.a)({},e),r.payload);default:return e}}}),Se=Object(we.c)(Pe,Object(we.a)(ye.a));window.store=Se,i.a.render(Object(N.jsx)(n.a.StrictMode,{children:Object(N.jsx)(c.a,{children:Object(N.jsx)(l.a,{store:Se,children:Object(N.jsx)(ge,{})})})}),document.getElementById("root")),ve()}},[[347,1,2]]]);
//# sourceMappingURL=main.69288d78.chunk.js.map